Metadata-Version: 2.4
Name: turtle-trader-pro
Version: 0.6.0
Summary: Portfolio Turtle Trading with A-share rules and portfolio-live (--use_closed).
Author: ChatGPT
Requires-Python: >=3.9
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: pandas>=2.0.0
Requires-Dist: numpy>=1.24.0
Requires-Dist: click>=8.0.0
Requires-Dist: pyyaml>=6.0
Requires-Dist: matplotlib>=3.7.0
Provides-Extra: yahoo
Requires-Dist: yfinance>=0.2.40; extra == "yahoo"
Provides-Extra: china
Requires-Dist: efinance>=0.5.0; extra == "china"
Provides-Extra: cal
Requires-Dist: pandas_market_calendars>=4.4.0; extra == "cal"
Dynamic: license-file

# Turtle Trader Pro (组合 + 实盘纸面)

- 组合回测：多标的共享账户与风险配额  
- A股规则（可配）：T+1、涨跌停、可卖空开关  
- API 数据：yfinance（全球）、efinance（A股）  
- 组合纸面实盘：`portfolio-live` 轮询多标的、执行到本地 Paper 账户（可持久化）  
- `--use_closed`：只用已收盘的倒数第二根K线生成信号，避免半截K线造成的“假突破”

## 安装
```bash
pip install -e .[yahoo,china]
# 可选：交易日历（上交所/深交所/NYSE）
pip install -e .[cal]

## 用 conda 安装（推荐）

```bash
# 在仓库根目录
conda env create -f environment.yml
conda activate turtle-pro
# 首次建议安装 pre-commit
pre-commit install

### macOS 图形后端
如遇到 `matplotlib` 后端报错，可在运行脚本前设置：
```bash
export MPLBACKEND=Agg

## Roadmap
- [ ] 数据源抽象：支持 ccxt（加密）与更多股票数据适配器
- [ ] 交易日历：引入 pandas_market_calendars，过滤非交易时段
- [ ] 组合回测加权：多货币/点值支持（dollar_per_point 更细化）
- [ ] 绩效模块：新增 Calmar、Sortino、胜率、期望收益等指标
- [ ] 策略参数搜索：网格 + 贝叶斯优化（optuna）
- [ ] 可视化：Plotly 交互式图表 + html 报告导出
- [ ] CLI UX：支持 JSON/YAML 输出规范化以及丰富的日志等级
- [ ] 单测覆盖率提升至 85%+





